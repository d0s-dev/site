---
import AsciiLogo from "./AsciiLogo.astro";

interface Props {
  current?: "home" | "docs" | "catalog";
}

const { current = "home" } = Astro.props as Props;

const links = [
  { href: "/", label: "Home", id: "home" as const },
  { href: "/docs", label: "Docs", id: "docs" as const },
  { href: "/catalog", label: "Catalog", id: "catalog" as const },
];
---
<nav class="fixed inset-x-0 top-0 z-50 border-b border-brand-blue-400/60 bg-brand-blue-500/20 backdrop-blur-md">
  <div class="mx-auto flex h-16 max-w-7xl items-center justify-between px-4 sm:px-6 lg:px-8">
    <a class="group flex items-center gap-3 transition-opacity hover:opacity-90" href="/" aria-label="d0s.dev home">
      <AsciiLogo class="hidden sm:block" />
      <span class="font-mono text-white sm:hidden">d0s.dev</span>
    </a>
    <div class="flex items-center gap-6">
      {links.map((link) => (
        <a
          class="nav-link"
          href={link.href}
          data-active={link.id === current}
        >
          {link.label}
        </a>
      ))}
      <a
        class="text-brand-gray-200 transition-colors hover:text-brand-blue-100"
        href="https://github.com/d0s-dev"
        rel="noopener noreferrer"
        target="_blank"
        aria-label="d0s.dev on GitHub"
      >
        <svg aria-hidden="true" class="size-5" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24">
          <path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4" />
          <path d="M9 18c-4.51 2-5-2-7-2" />
        </svg>
      </a>
    </div>
  </div>
</nav>

<style>
  .nav-link {
    position: relative;
    color: color-mix(in srgb, var(--gray-200) 80%, transparent);
    transition: color 150ms ease;
    padding: 0.25rem 0;
  }

  .nav-link:hover {
    color: var(--gray-100);
  }

  .nav-link[data-active="true"] {
    color: var(--blue-100);
  }

  .nav-link[data-active="true"]::after {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    bottom: -0.25rem;
    height: 2px;
    border-radius: 9999px;
    background: linear-gradient(90deg, var(--blue-100), var(--blue-300));
  }
</style>
