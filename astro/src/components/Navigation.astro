---
interface Props {
  current?: "home" | "docs" | "catalog";
}

const { current = "home" } = Astro.props as Props;

const links = [
  { href: "/", label: "Home", id: "home" as const },
  { href: "/docs", label: "Docs", id: "docs" as const },
  { href: "/catalog", label: "Catalog", id: "catalog" as const },
];
---
<nav class="fixed inset-x-0 top-0 z-50 border-b border-[#002855] bg-[#001233]/95 backdrop-blur-sm">
  <div class="mx-auto flex h-16 max-w-7xl items-center justify-between px-4 sm:px-6 lg:px-8">
    <a class="flex items-center gap-2 transition-opacity hover:opacity-80" href="/" aria-label="d0s.dev home">
      <span class="grid size-10 place-items-center rounded" style="background: linear-gradient(135deg, #0466C8 0%, #023E7D 100%);">
        <svg aria-hidden="true" class="size-5 text-white" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24">
          <path d="M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z" />
          <path d="M12 22V12" />
          <polyline points="3.29 7 12 12 20.71 7" />
          <path d="m7.5 4.27 9 5.15" />
        </svg>
      </span>
      <span class="font-mono text-white">d0s.dev</span>
    </a>
    <div class="flex items-center gap-6">
      {links.map((link) => (
        <a
          class="nav-link"
          href={link.href}
          data-active={link.id === current}
        >
          {link.label}
        </a>
      ))}
      <a
        class="text-[#979DAC] transition-colors hover:text-[#0466C8]"
        href="https://github.com/d0s-dev"
        rel="noopener noreferrer"
        target="_blank"
        aria-label="d0s.dev on GitHub"
      >
        <svg aria-hidden="true" class="size-5" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24">
          <path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4" />
          <path d="M9 18c-4.51 2-5-2-7-2" />
        </svg>
      </a>
    </div>
  </div>
</nav>

<style>
  .nav-link {
    position: relative;
    color: #979DAC;
    transition: color 150ms ease;
    padding: 0.25rem 0;
  }

  .nav-link:hover {
    color: #ffffff;
  }

  .nav-link[data-active="true"] {
    color: #0466C8;
  }

  .nav-link[data-active="true"]::after {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    bottom: -0.25rem;
    height: 2px;
    border-radius: 9999px;
    background: linear-gradient(90deg, #0466C8, #023E7D);
  }
</style>
