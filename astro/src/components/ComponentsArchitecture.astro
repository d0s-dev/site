---
const components = [
  {
    name: "d0s CLI",
    icon: "‚å®Ô∏è",
    description: "Command-line interface for managing deployments, packages, and clusters",
    subComponents: [
      { name: "d0s API", description: "REST API for programmatic access" },
      { name: "d0s Agent", description: "Cluster-side agent for managing deployments" },
    ],
  },
  {
    name: "Headlamp Plugin",
    icon: "üéõÔ∏è",
    description: "Web UI dashboard for visual cluster management and monitoring",
    link: "https://headlamp.dev",
  },
  {
    name: "d0s Factory",
    icon: "üè≠",
    description: "Automated toolchain for building secure, production-ready applications",
    link: "/contact",
  },
];
---
<section class="relative overflow-hidden px-4 py-24 md:px-8">
  <div class="absolute inset-0">
    <div class="absolute inset-0 bg-[radial-gradient(circle_at_30%_50%,_rgba(4,102,200,0.08)_0%,_transparent_50%)]"></div>
  </div>
  
  <div class="relative mx-auto max-w-7xl">
    <div class="mb-16 text-center">
      <h2 class="text-4xl font-bold text-white sm:text-5xl">
        Core <span class="gradient-text">Components</span>
      </h2>
      <p class="mx-auto mt-4 max-w-2xl text-lg text-brand-gray-200">
        Built on proven open-source technologies
      </p>
    </div>

    <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
      {components.map((component, index) => (
        <div 
          class="component-card group relative overflow-hidden rounded-xl border border-brand-blue-400/30 bg-gradient-to-br from-card/70 to-card/50 p-6 backdrop-blur transition-all duration-500 hover:-translate-y-1 hover:border-brand-blue-300 hover:shadow-[0_20px_60px_rgba(4,102,200,0.3)]"
          style={`animation-delay: ${index * 100}ms`}
        >
          <div class="mb-4 flex size-16 items-center justify-center rounded-2xl bg-gradient-to-br from-brand-blue-200/30 to-brand-blue-400/30 text-4xl transition-transform duration-300 group-hover:scale-110">
            {component.icon}
          </div>
          
          <h3 class="mb-3 text-2xl font-bold text-white">
            {component.name}
          </h3>
          
          <p class="mb-4 text-sm leading-relaxed text-brand-gray-200">
            {component.description}
          </p>

          {component.subComponents && (
            <div class="mt-4 space-y-2 border-t border-brand-blue-400/20 pt-4">
              {component.subComponents.map((sub) => (
                <div class="rounded-lg bg-brand-gray-500/50 p-3">
                  <div class="mb-1 text-sm font-semibold text-brand-blue-100">
                    {sub.name}
                  </div>
                  <div class="text-xs text-brand-gray-200">
                    {sub.description}
                  </div>
                </div>
              ))}
            </div>
          )}

          {component.link && (
            <div class="mt-4 border-t border-brand-blue-400/20 pt-4">
              <a 
                href={component.link}
                class="inline-flex items-center gap-2 text-sm text-brand-blue-100 transition-colors hover:text-brand-blue-200"
                rel={component.link.startsWith("http") ? "noopener noreferrer" : undefined}
                target={component.link.startsWith("http") ? "_blank" : undefined}
              >
                Learn more
                <svg class="size-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
              </a>
            </div>
          )}

          <div class="absolute inset-0 -z-10 opacity-0 transition-opacity duration-500 group-hover:opacity-100" 
               style="background: radial-gradient(circle at 50% 0%, rgba(4,102,200,0.15) 0%, transparent 70%);"></div>
        </div>
      ))}
    </div>

    <div class="mt-12 text-center">
      <p class="text-sm text-brand-gray-200">
        Built on
        <a href="https://zarf.dev" target="_blank" rel="noopener noreferrer" class="font-semibold text-brand-blue-100 hover:text-brand-blue-200">Zarf</a>
        and
        <a href="https://headlamp.dev" target="_blank" rel="noopener noreferrer" class="font-semibold text-brand-blue-100 hover:text-brand-blue-200">Headlamp</a>
      </p>
    </div>
  </div>
</section>

<style>
  .component-card {
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInUp 0.6s ease forwards;
  }

  @keyframes fadeInUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
